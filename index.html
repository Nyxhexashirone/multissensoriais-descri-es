<!DOCTYPE html>
<html lang="pt-BR">
<head>
    <meta charset="UTF-8">
    <title>Reprodutor Sensorial</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            max-width: 600px;
            margin: 20px auto;
            padding: 20px;
        }
        .controls {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 10px;
            margin: 20px 0;
        }
        button {
            padding: 10px;
            cursor: pointer;
        }
        .descricao {
            margin: 20px 0;
            padding: 15px;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="controls">
        <button onclick="selecionarVoz()">Vozes</button>
        <input type="range" id="velocidade" min="0.1" max="3" step="0.1" value="1" onchange="atualizarVelocidade()">
        <button onclick="play()">Reproduzir</button>
        <button onclick="stop()">Parar</button>
        <button onclick="anterior()">Voltar</button>
        <button onclick="proxima()">Avançar</button>
    </div>

    <div class="descricao">
        <h2 id="titulo"></h2>
        <p id="texto"></p>
    </div>

    <script>
        const descricoes = [
            {
                titulo: "Praia ao Amanhecer",
                texto: "Imagine a areia macia e úmida sob seus pés. O cheiro de maresia misturado com o aroma fresco da manhã. O som rítmico das ondas quebrando suavemente na costa. O céu em tons de laranja e rosa, com o calor do sol nascendo aquecendo levemente sua pele."
            },
            {
                titulo: "Floresta Tropical",
                texto: "Sinta a umidade do ar denso e fresco. Ouça o canto dos pássaros exóticos e o farfalhar das folhas nas copas das árvores. Veja os raios de sol filtrando pela vegetação densa, iluminando os tons de verde em diferentes intensidades. O cheiro de terra molhada e vegetação em decomposição."
            }
        ];

        let vozSelecionada = null;
        let indiceAtual = 0;
        let velocidade = 1;
        let sintetizador = window.speechSynthesis;
        let utterance = null;

        function carregarDescricao() {
            document.getElementById('titulo').textContent = descricoes[indiceAtual].titulo;
            document.getElementById('texto').textContent = descricoes[indiceAtual].texto;
        }

        function selecionarVoz() {
            const vozes = sintetizador.getVoices().filter(voz => voz.lang === 'pt-BR');
            vozSelecionada = vozes.length > 0 ? vozes[0] : null;
        }

        function atualizarVelocidade() {
            velocidade = document.getElementById('velocidade').value;
        }

        function play() {
            if (vozSelecionada) {
                stop();
                utterance = new SpeechSynthesisUtterance(descricoes[indiceAtual].texto);
                utterance.voice = vozSelecionada;
                utterance.rate = velocidade;
                sintetizador.speak(utterance);
            }
        }

        function stop() {
            sintetizador.cancel();
        }

        function proxima() {
            indiceAtual = (indiceAtual + 1) % descricoes.length;
            carregarDescricao();
            if (sintetizador.speaking) play();
        }

        function anterior() {
            indiceAtual = (indiceAtual - 1 + descricoes.length) % descricoes.length;
            carregarDescricao();
            if (sintetizador.speaking) play();
        }

        // Inicialização
        window.speechSynthesis.onvoiceschanged = () => {
            selecionarVoz();
            carregarDescricao();
        };
    </script>
</body>
</html>
